<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" >

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
	<link href="https://fonts.googleapis.com/css?family=Roboto+Mono" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css?family=Cousine|Inconsolata" rel="stylesheet">
	<link rel="shortcut icon" type="image/png" href="/favicon.png">

	
	<link rel="stylesheet" href="/css/style.css">
	<link rel="stylesheet" href="/css/css/fontawesome-all.min.css">
	<script src="/js/main.js"></script>
	

	<!-- Begin Jekyll SEO tag v2.1.0 -->
<title>Converting VESTS to BEX - dPay Developer</title>
<meta property="og:title" content="Converting VESTS to BEX" />
<meta name="description" content="How to convert VESTS to BEX or BEX POWER" />
<meta property="og:description" content="How to convert VESTS to BEX or BEX POWER" />
<link rel="canonical" href="http://localhost:5600/tutorials-recipes/vest-to-bex" />
<meta property="og:url" content="http://localhost:5600/tutorials-recipes/vest-to-bex" />
<meta property="og:site_name" content="dPay Developer" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2018-09-11T18:30:07-05:00" />
<script type="application/ld+json">
{"@context": "http://schema.org",
"@type": "BlogPosting",
"headline": "Converting VESTS to BEX",
"datePublished": "2018-09-11T18:30:07-05:00",
"description": "How to convert VESTS to BEX or BEX POWER",
"url": "http://localhost:5600/tutorials-recipes/vest-to-bex"}</script>
<!-- End Jekyll SEO tag -->


	
</head>
<body>
<header>
	<h1>
		<button type="button" class="open-nav" id="open-nav"></button>
		<a href="/"  class="logo-link"><img src="/images/logotype_white.svg" height="40" alt="dPay Developer logo"></a>
	</h1>

	
	<form action="/search/" method="get">
		<input type="text" name="q" id="search-input" placeholder="Search">
		<input type="submit" value="Search" style="display: none;">
	</form>
	

	<div id="sidebar" class="sidebar">
	
	
	
		
    <section class="pnl-main-nav-section main-nav-section" url="/">
		<h6 class="ctrl-nav-section title">Introduction</h6>
		<ul class="cont-nav-section content">
			
				
					
					
						
						<li><a href="/#introduction-welcome">Welcome to dPay</a></li>
						
					
				
			
		</ul>
	</section>
	
		
    <section class="pnl-main-nav-section main-nav-section" url="/quickstart/">
		<h6 class="ctrl-nav-section title">Quickstart</h6>
		<ul class="cont-nav-section content">
			
				
					
					
						
						<li><a href="/quickstart/#quickstart-choose-library">Choose Library</a></li>
						
					
						
						<li><a href="/quickstart/#quickstart-dpayd-nodes">dpayd Nodes</a></li>
						
					
						
						<li><a href="/quickstart/#quickstart-testnet">dPay Testnet</a></li>
						
					
				
			
		</ul>
	</section>
	
		
    <section class="pnl-main-nav-section main-nav-section" url="/tutorials/">
		<h6 class="ctrl-nav-section title">Tutorials</h6>
		<ul class="cont-nav-section content">
			
				
					
						<li><a href="/tutorials/#tutorials-javascript">Javascript</a></li>
					
				
					
						<li><a href="/tutorials/#tutorials-python">Python</a></li>
					
				
					
						<li><a href="/tutorials/#tutorials-ruby">Ruby</a></li>
					
				
					
						<li><a href="/tutorials/#tutorials-recipes">Recipes</a></li>
					
				
			
		</ul>
	</section>
	
		
    <section class="pnl-main-nav-section main-nav-section" url="/services/">
		<h6 class="ctrl-nav-section title">Services</h6>
		<ul class="cont-nav-section content">
			
				
					
					
						
						<li><a href="/services/#services-dsite">dSite.io</a></li>
						
					
						
						<li><a href="/services/#services-dpayid">dPayID</a></li>
						
					
						
						<li><a href="/services/#services-jefferson">Jefferson</a></li>
						
					
						
						<li><a href="/services/#services-dsiteimages">ImageHoster</a></li>
						
					
						
						<li><a href="/services/#services-dpds">DPDS</a></li>
						
					
				
			
		</ul>
	</section>
	
		
    <section class="pnl-main-nav-section main-nav-section" url="/apidefinitions/">
		<h6 class="ctrl-nav-section title">Appbase API</h6>
		<ul class="cont-nav-section content">
			
				
					
					
						
						<li><a href="/apidefinitions/#apidefinitions-condenser-api">Condenser Api</a></li>
						
					
						
						<li><a href="/apidefinitions/#apidefinitions-account-by-key-api">Account By Key Api</a></li>
						
					
						
						<li><a href="/apidefinitions/#apidefinitions-broadcast-ops-comment">Broadcast Ops Comment</a></li>
						
					
						
						<li><a href="/apidefinitions/#apidefinitions-account-history-api">Account History Api</a></li>
						
					
						
						<li><a href="/apidefinitions/#apidefinitions-database-api">Database Api</a></li>
						
					
						
						<li><a href="/apidefinitions/#apidefinitions-follow-api">Follow Api</a></li>
						
					
						
						<li><a href="/apidefinitions/#apidefinitions-jsonrpc">Jsonrpc</a></li>
						
					
						
						<li><a href="/apidefinitions/#apidefinitions-market-history-api">Market History Api</a></li>
						
					
						
						<li><a href="/apidefinitions/#apidefinitions-network-broadcast-api">Network Broadcast Api</a></li>
						
					
						
						<li><a href="/apidefinitions/#apidefinitions-tags-api">Tags Api</a></li>
						
					
						
						<li><a href="/apidefinitions/#apidefinitions-witness-api">Witness Api</a></li>
						
					
						
						<li><a href="/apidefinitions/#apidefinitions-block-api">Block Api</a></li>
						
					
						
						<li><a href="/apidefinitions/#apidefinitions-broadcast-ops">Broadcast Ops</a></li>
						
					
				
			
		</ul>
	</section>
	
		
    <section class="pnl-main-nav-section main-nav-section" url="/community/">
		<h6 class="ctrl-nav-section title">Community</h6>
		<ul class="cont-nav-section content">
			
				
					
					
						
						<li><a href="/community/#community-overview">Overview</a></li>
						
					
						
						<li><a href="/community/#community-resources">Resources</a></li>
						
					
						
						<li><a href="/community/#community-dpaypython">dPay-Python</a></li>
						
					
						
						<li><a href="/community/#community-developeradvocate">Sharing & Help</a></li>
						
					
				
			
		</ul>
	</section>
	
		
    <section class="pnl-main-nav-section main-nav-section" url="/glossary/">
		<h6 class="ctrl-nav-section title">Glossary</h6>
		<ul class="cont-nav-section content">
			
				
					
					
						
						<li><a href="/glossary/#glossary-chain-basics">Chain Basics</a></li>
						
					
						
					
						
						<li><a href="/glossary/#glossary-governance">Governance</a></li>
						
					
						
						<li><a href="/glossary/#glossary-transactions">Transactions</a></li>
						
					
						
						<li><a href="/glossary/#glossary-api">API</a></li>
						
					
						
						<li><a href="/glossary/#glossary-market">Market</a></li>
						
					
				
			
		</ul>
	</section>
	
</div>


	<!--<p class="copyright">-->
	<!--<a href="https://dsite.io/">-->
	<!--dsite-->
	<!--</a>-->
	<!--</p>-->
	<link href="https://fonts.googleapis.com/css?family=Nunito" rel="stylesheet">
</header>
<div class="main" id="top">
	<div class="hero">
		<h1 class="hero__h1">dPay Developer Portal </h1>
		
		<img class="hero__img" src="/images/hero.png">
		
	</div>
	<section id="tutorials-recipes-vest-to-bex" class="row tutorials-recipes-vest-to-bex">
	<h3>
		<a id="tutorials-recipes-vest-to-bex">
			Converting VESTS to BEX
			
		</a>
	</h3>
	
		<span class="description"><p>How to convert VESTS to BEX or BEX POWER</p>
</span>
	

	<h3 id="intro">Intro</h3>

<p>dPay’s base unit is VESTS and usually user doesn’t know about this unit because everything is dynamically calucated and presented in BEX form for convenience of the user. In this recipe we will talk about how converting is working behind the scenes on all dPay apps. Dynamic Global Properties are used in this recipe to fetch the current values of global blockchain properties.</p>

<h2 id="steps">Steps</h2>

<ol>
  <li><a href="#get-global"><strong>Get Dynamic Global Properties</strong></a> Fetch current values of global blockchain properties</li>
  <li><a href="#formula"><strong>Formulate VESTS_TO_dpay</strong></a> Formulate function that will convert given VESTS to BEX.</li>
</ol>

<h4 id="1-get-dynamic-global-properties-">1. Get Dynamic Global Properties <a name="get-global"></a></h4>

<p>Following method can be used to fetch global values</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code>curl -s --data <span class="s1">'{"jsonrpc":"2.0", "method":"condenser_api.get_dynamic_global_properties", "params":[], "id":1}'</span> https://api.dpays.io
</code></pre>
</div>

<h5 id="example-output">Example Output<a style="float: right" href="#steps"><i class="fas fa-chevron-up fa-sm"></i></a></h5>

<div class="language-json highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="w">
   </span><span class="nt">"id"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
   </span><span class="nt">"jsonrpc"</span><span class="p">:</span><span class="s2">"2.0"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"result"</span><span class="p">:{</span><span class="w">
      </span><span class="nt">"head_block_number"</span><span class="p">:</span><span class="mi">24238248</span><span class="p">,</span><span class="w">
      </span><span class="nt">"head_block_id"</span><span class="p">:</span><span class="s2">"0171d8a833dc369abd034b0c67d8725f96df9e5b"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"time"</span><span class="p">:</span><span class="s2">"2018-07-16T22:41:24"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"current_witness"</span><span class="p">:</span><span class="s2">"jared"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"total_pow"</span><span class="p">:</span><span class="mi">514415</span><span class="p">,</span><span class="w">
      </span><span class="nt">"num_pow_witnesses"</span><span class="p">:</span><span class="mi">172</span><span class="p">,</span><span class="w">
      </span><span class="nt">"virtual_supply"</span><span class="p">:</span><span class="s2">"283434761.199 BEX"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"current_supply"</span><span class="p">:</span><span class="s2">"271729171.190 BEX"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"confidential_supply"</span><span class="p">:</span><span class="s2">"0.000 BEX"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"current_bbd_supply"</span><span class="p">:</span><span class="s2">"15498201.173 BBD"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"confidential_bbd_supply"</span><span class="p">:</span><span class="s2">"0.000 BBD"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"total_vesting_fund_dpay"</span><span class="p">:</span><span class="s2">"192913644.627 BEX"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"total_vesting_shares"</span><span class="p">:</span><span class="s2">"391296886352.617261 VESTS"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"total_reward_fund_dpay"</span><span class="p">:</span><span class="s2">"0.000 BEX"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"total_reward_shares2"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"pending_rewarded_vesting_shares"</span><span class="p">:</span><span class="s2">"379159224.860656 VESTS"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"pending_rewarded_vesting_dpay"</span><span class="p">:</span><span class="s2">"185294.019 BEX"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"bbd_interest_rate"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nt">"bbd_print_rate"</span><span class="p">:</span><span class="mi">2933</span><span class="p">,</span><span class="w">
      </span><span class="nt">"maximum_block_size"</span><span class="p">:</span><span class="mi">65536</span><span class="p">,</span><span class="w">
      </span><span class="nt">"current_aslot"</span><span class="p">:</span><span class="mi">24315228</span><span class="p">,</span><span class="w">
      </span><span class="nt">"recent_slots_filled"</span><span class="p">:</span><span class="s2">"340282366920938463463374607431768211400"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"participation_count"</span><span class="p">:</span><span class="mi">128</span><span class="p">,</span><span class="w">
      </span><span class="nt">"last_irreversible_block_num"</span><span class="p">:</span><span class="mi">24238230</span><span class="p">,</span><span class="w">
      </span><span class="nt">"vote_power_reserve_rate"</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span><span class="w">
      </span><span class="nt">"average_block_size"</span><span class="p">:</span><span class="mi">10950</span><span class="p">,</span><span class="w">
      </span><span class="nt">"current_reserve_ratio"</span><span class="p">:</span><span class="mi">200000000</span><span class="p">,</span><span class="w">
      </span><span class="nt">"max_virtual_bandwidth"</span><span class="p">:</span><span class="s2">"264241152000000000000"</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<h4 id="2-formulate-vests_to_dpay-">2. Formulate VESTS_TO_dpay <a name="formula"></a><a style="float: right" href="#steps"><i class="fas fa-chevron-up fa-sm"></i></a></h4>

<p>From above results we have everything we need to calculate BEX from given VESTS value.</p>

<p>Let’s say we have been given <code class="highlighter-rouge">availableVESTS</code> variable, value in VESTS and we want to convert that to BEX. By using values from above returned object our formula would be as follows:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>vestBex = ( result.total_vesting_fund_dpay x availableVESTS ) / result.total_vesting_shares
</code></pre>
</div>

<p>That’s it!</p>

</section>

</div>
<div class="footer">
	<a href="#">Back to top</a>
</div>
<script>
    document.getElementById("open-nav").addEventListener("click", function () {
        document.body.classList.toggle("nav-open");
    });
</script>
</body>
</html>


<script src="/js/adjust.js"></script>

